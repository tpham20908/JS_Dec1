<!DOCTYPE html>

<html lang="en" xmlns="http://www.w3.org/1999/xhtml">
<head>
    <meta charset="utf-8" />
    <title>Intro to Ajax</title>
    <script type="text/javascript">
    	// creating XMLHttpRequest object
    	var xhr = false;
    	// Configuring XMLHttpRequest object
    	if (window.XMLHttpRequest) {
    		// window.alert("Using XMLHttpRequest Object.");
    		// initializing xhr object
    		xhr = new XMLHttpRequest();
    	}
    	else if (window.ActiveXObject) {
    		// window.alert("Using ActiveX Object.");
    		// initializing xhr object
    		xhr = new ActiveXObject("Microsoft.XMLHTTP");
    	}

    	// handling data downloads from the server using anomous function
    	function getData(dataSource, divID) {
    		if (xhr) {
    			var obj = document.getElementById(divID);
    			xhr.open("GET", dataSource, true);

    			// passing data to the server using AJAX with get or post http methods
    			xhr.onreadystatechange = function() {
    				if (xhr.readyState === 4 && xhr.status === 200) {
    					obj.innerHTML = xhr.responseText;
    				}
    			}

    			// send the request
    			xhr.send();
    		}
    	}
    </script>
</head>
<body>
	<form>
		<input type="button" value="Fetch the message" onclick="getData('data/data.txt', 'targetDiv');" />
	</form>

	<div id="targetDiv">
		<p>The fetch message will apper here.</p>
	</div>
</body>
</html>